<!DOCTYPE html>
<html lang="en">
<head>
<title>DOM, Browser, Server</title>


	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="shower-ribbon/styles/screen-16x10.css">
	<style media="screen">
        .slide {
            padding-top: 70px;
        }

	</style>
</head>
<body class="shower list">
	<header class="caption">
        <h1>DOM, Browser, Server</h1>
    </header>

	<section class="slide">
        <h2 class="shout">DOM</h2>
    </section>

	<section class="slide">
        <h2>Document Object Model</h2>
        <pre>
            <code>&lt;html&gt;</code>
            <code>    &lt;head&gt;</code>
            <code>        &lt;title&gt;Example&lt;/title&gt;</code>
            <code>    &lt;/head&gt;</code>
            <code>    &lt;body&gt;</code>
            <code>        &lt;p&gt;This is an example page&lt;/p&gt;</code>
            <code>        &lt;h1&gt;Example page&lt;/h1&gt;</code>
            <code>    &lt;/body&gt;</code>
            <code>&lt;/html&gt;</code>
        </pre>
    </section>

    <section class="slide">
        <h2>Document Object Model</h2>
        <center><img src="pictures/dom1.jpg" width="70%" alt=""></center>
    </section>

    <section class="slide">
        <h2>Отображение страницы</h2>
        <ul>
            <li>загрузка html ресурса</li>
            <li>лексический и синтаксический анализ</li>
            <li>построение <mark>синтаксического дерева</mark></li>
            <li>загрузка и обработка CSS</li>
            <li>построение CSSOM</li>
            <li>построение дерева отображения</li>
            <li>...</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Document Object Model</h2>
        <ul>
            <li>программный интерфейс к HTML (XML) документам</li>
            <li>представляет из себя группу узлов</li>
            <li>каждый узел имеет свойства и методы</li>
            <li>в браузере доступна для JavaScript</li>
        </ul>
    </section>

    <section class="slide">
        <h2>DOM, типы объектов</h2>
        <ul>
            <li><code>document</code> – корневой элемент</li>
            <li><code>element</code> – узел DOM</li>
            <li><code>NodeList</code> – коллекция из element</li>
            <li><code>HTMLCollection</code> – коллекция из element</li>
            <li><code>attribute</code> – ссылка на объект для работы с атрибутами</li>
            <li><code>namedNodeMap</code> – map из element</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Выбор элементов</h2>
        <div>Возвращают <mark>живые</mark> коллекции <code>NodeList</code></div>
        <ul>
            <li><code>document.getElementById</code></li>
            <li><code>document.getElementsByName</code></li>
            <li><code>document.getElementsByTagName</code></li>
            <li><code>document.getElementsByClassName</code></li>
        </ul>

        <div>Возвращают <mark>статические</mark> коллекции <code>NodeList</code></div>
        <ul>
            <li><code>document.querySelectorAll</code></li>
            <li><code>document.querySelector</code></li>
        </ul>
    </section>

    <section class="slide">
        <h2>Навигация по узлам</h2>
        <ul>
            <li><code>parentNode</code></li>
            <li><code>childNodes</code></li>
            <li><code>firstChild, lastChild</code></li>
            <li><code>nextSibling, previousSibling</code></li>
        </ul>
    </section>

    <section class="slide">
        <h2>Навигация по элементам</h2>
        <ul>
            <li><code><mark>parentNode</mark></code></li>
            <li><code>children</code></li>
            <li><code>firstElementChild, lastElementChild</code></li>
            <li><code>nextElementSibling, previousElementSibling</code></li>
        </ul>
    </section>

    <section class="slide">
        <h2>Атрибуты</h2>
        <ul>
            <li><code>attributes</code></li>
            <li><code>getAttribute</code></li>
            <li><code>setAttribute</code></li>
            <li><code>img.src</code></li>
            <li><code>img.html<mark>For</mark></code></li>
            <li><code>img.<mark>class</mark>Name</code></li>
            <li>верблюжийРегистр</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Содержимое элементов</h2>
        <pre>
            <code>var foo = document.getElementById('paragraph1');</code>
            <code>var html = foo.innerHtml; <span class="comment">// текст с разметкой</span></code>
            <code>var text = foo.innerText; <span class="comment">// только текст</span></code>
            <code>var p = foo.outerText;<span class="comment">// текст с разметкой включая себя</span></code>
        </pre>
    </section>

    <section class="slide">
        <h2>Создание новых узлов</h2>
        <pre>
            <code>var img = document.create<mark>Element</mark>('img');</code>
            <code>img.src = 'http://url/image.jpg';</code>
            <code>var text = document.create<mark>TextNode</mark>('Some text');</code>
            <code><span class="comment">/* А как добавить на страницу? */</span></code>
        </pre>
    </section>

    <section class="slide">
        <h2>Добавление на страницу</h2>
        <ul>
            <li><code>appendChild</code></li>
            <li><code>insertBefore</code></li>
        </ul>
        <pre>
            <code>var div = document.createElement('div');</code>
            <code>div.innerText = 'Hello';</code>
            <code>var form = document.getElementById('form1');</code>
            <code>form.appendChild(div);</code>
            <code><span class="comment">/* div - живая ссылка */</span></code>
        </pre>
    </section>

    <section class="slide">
        <h2><code>insertBefore</code></h2>
        <pre>
            <code>var div = document.createElement('div');</code>
            <code>div.innerText = 'Hello';</code>
            <code>var form = document.getElementById('form1');</code>
            <code><mark href="http://document.body">document.body</mark>.insertBefore(div, <mark>form</mark>);</code>
        </pre>
    </section>

    <section class="slide">
        <h2>Удаление элементов</h2>
        <pre>
            <code>var <mark>form</mark> = document.getElementById('form1');</code>
            <code>var removedForm = document.body.removeChild(form);</code>
            <code><span class="comment">/* или */</span></code>
            <code>var <mark>removedForm</mark> = form.remove(); <span class="comment">// Не поддерживается в IE</span></code>
        </pre>
        <blockquote>Элемент не удаляется совсем, он исключается из DOM, но сохраняется в памяти до тех пор, пока на него существуют ссылки</blockquote>
    </section>

    <section class="slide">
        <h2>DocumentFragment</h2>
        <ul>
            <li><code>var fragment = document.createDocumentFragment();</code></li>
            <li>не имеет родительского элемента</li>
            <li>не имеет отражения в DOM документа</li>
            <li>частично поддерживает методы работы с дочерними элементами</li>
            <li><code>querySelector</code>, <code>querySelectorAll</code></li>
        </ul>
    </section>

    <section class="slide">
        <h2>События</h2>
        <code>target.addEventListener(type, listener[, useCapture]);</code>
        <ul>
            <li><code>type</code> - тип события</li>
            <li><code>listener</code> - объект принимающий событие или функция обратного вызова</li>
            <li><code>useCapture</code> - захват события <code>true/false</code></li>
        </ul>
    </section>

    <section class="slide">
        <h2>Совместимость</h2>
        <pre>
            <code>if (el.addEventListener) {<span class="comment"> // обычные браузеры</span></code>
            <code>    el.addEventListener('click', modifyText, false);</code>
            <code>} else if (el.attachEvent)  {<span class="comment"> // IE8-</span></code>
            <code>    el.attachEvent('onclick', modifyText);</code>
            <code>}</code>
            <code>function modifyText(<mark>event</mark>) {</code>
            <code>...</code>
            <code>}</code>
        </pre>
    </section>

    <section class="slide">
        <h2>Отписка от события</h2>
        <pre>
            <code>el.addEventListener('click', modifyText, false);</code>
            <code>function modifyText(event) {</code>
            <code>...</code>
            <code>}</code>
            <code>el.<mark>removeEventListener</mark>('click', modifyText, false);</code>
            <code>el.<mark>detachEvent</mark>('onclick', modifyText) <span class="comment">/* для IE8- */</span></code>
        </pre>
    </section>

    <section class="slide">
        <h2 class="shout">window</h2>
    </section>








	<div class="progress"></div>

	<script src="shower-core/shower.min.js"></script>
	<!-- Copyright © 2017 Yours Truly, Famous Inc. -->

</body>
</html>
